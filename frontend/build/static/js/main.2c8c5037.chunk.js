(this.webpackJsonpsuperheros=this.webpackJsonpsuperheros||[]).push([[0],{232:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(38),s=a.n(n),i=a(24),o=a(42),l=a.n(o),j=a(73),u=a(10),d=a(83),b=a(11),h=a(29),m=(a(232),a(2)),O=function(e){var t=e.label,a=Object(h.a)(e,["label"]),r=Object(d.d)(a),c=Object(u.a)(r,2),n=c[0],s=c[1];return Object(m.jsxs)("div",{className:"mt-4 mb-4",children:[Object(m.jsx)("label",{className:"text-primary",htmlFor:n.name,children:t}),Object(m.jsx)("input",Object(b.a)(Object(b.a)({className:"form-control shadow-none ".concat(s.touched&&s.error&&"is-invalid"),autoComplete:"off"},n),a)),Object(m.jsx)(d.a,{component:"div",className:"error",name:n.name})]})},p=a(121),x=a(113),v=a.n(x),g=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.prev=1,e.next=4,v()({url:"http://challenge-react.alkemy.org/",method:"POST",data:{email:a,password:r}});case 4:return c=e.sent,e.abrupt("return",c.data.token);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return!(e instanceof Error)},N=c.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),w=function(e){var t=localStorage.getItem("userToken"),a=Object(r.useState)(t),c=Object(u.a)(a,2),n=c[0],s=c[1],i={token:n,isLoggedIn:!!n,login:function(e){s(e),localStorage.setItem("userToken",e)},logout:function(){s(null),localStorage.removeItem("userToken")}};return Object(m.jsx)(N.Provider,{value:i,children:e.children})},y=N,S=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){n(!1)}),4e3);return function(){clearTimeout(e)}}),[]),Object(m.jsx)(c.a.Fragment,{children:a&&Object(m.jsx)("div",{className:"text-center mt-5 ",children:Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:"You have entered an invalid username or password"})})})},k=function(){var e=Object(r.useContext)(y),t=Object(r.useState)(!0),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(!1),o=Object(u.a)(s,2),b=o[0],h=o[1],x=Object(i.g)(),v=p.a({email:p.b().email("Invalid email").required("Email is required"),password:p.b().required("Password is required")});return Object(m.jsx)(d.c,{initialValues:{email:"",password:""},validationSchema:v,onSubmit:function(){var t=Object(j.a)(l.a.mark((function t(a){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.next=3,g(a);case 3:if(r=t.sent,c=f(r),h(!1),c){t.next=9;break}return n(!1),t.abrupt("return");case 9:e.login(r),x.replace("/home");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"text-primary",children:"Sign In"}),Object(m.jsxs)(d.b,{children:[Object(m.jsx)(O,{label:"Email",name:"email",type:"email"}),Object(m.jsx)(O,{label:"Password",name:"password",type:"password"}),!b&&Object(m.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Login"}),b&&Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("div",{className:"spinner-border text-primary",role:"status"})}),!c&&!b&&Object(m.jsx)(S,{})]})]})})},H=function(){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center text-gradient display-1 font-weight-bold",children:"Superheros App"}),Object(m.jsx)("p",{className:"p-1 text-center w-75 text-white mx-auto",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ex eligendi quia eaque corrupti magni earum architecto."})]})},C=(a(339),function(){return Object(m.jsx)("section",{className:"welcome",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-5 order-last order-lg-first",children:Object(m.jsx)(k,{})}),Object(m.jsx)("div",{className:"col-lg-7 order-first order-lg-last",children:Object(m.jsx)(H,{})})]})})})}),I=(a(340),a(201)),E=function(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(i.g)();return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.push("/search?heroName=".concat(c))},children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{className:"form-control rounded-0 border-end-0 border",type:"search",id:"superhero",name:"superhero",onChange:function(e){n(e.target.value)},value:c,placeholder:"Find a hero for your team"}),Object(m.jsx)("span",{className:"input-group-append",children:Object(m.jsx)("button",{className:"btn btn-lightblue btn-outline-primary border bg-white border-start-0 rounded-0",children:Object(m.jsx)("i",{children:Object(m.jsx)(I.a,{})})})})]})})},F=a(34),L=a(405),T=a(411),A=a(409),P=a(216),D=a(221),q=function(e){var t=e.reduce((function(e,t){return e.value>t.value?e:t}),1);return 0===t.value?"":t.powerstat},B=c.a.createContext({heros:[],addHero:function(e){},removeHero:function(e){},teamSummary:[],stats:{}}),W=function(e){var t=Object(r.useState)([]),a=Object(u.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(0),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)(0),d=Object(u.a)(j,2),b=d[0],h=d[1],O=Object(r.useState)(!1),p=Object(u.a)(O,2),x=p[0],v=p[1],g=Object(r.useState)(!1),f=Object(u.a)(g,2),N=f[0],w=f[1],y=Object(r.useState)([]),S=Object(u.a)(y,2),k=S[0],H=S[1],C=Object(r.useState)({}),I=Object(u.a)(C,2),E=I[0],L=I[1];Object(r.useEffect)((function(){H(function(e){var t=[{powerstat:"Intelligence",value:0},{powerstat:"Strength",value:0},{powerstat:"Speed",value:0},{powerstat:"Durability",value:0},{powerstat:"Power",value:0},{powerstat:"Combat",value:0}];e.forEach((function(e){"null"===e.powerstats.intelligence?t[0].value+=0:t[0].value+=parseInt(e.powerstats.intelligence),"null"===e.powerstats.strength?t[1].value+=0:t[1].value+=parseInt(e.powerstats.strength),"null"===e.powerstats.speed?t[2].value+=0:t[2].value+=parseInt(e.powerstats.speed),"null"===e.powerstats.durability?t[3].value+=0:t[3].value+=parseInt(e.powerstats.durability),"null"===e.powerstats.power?t[4].value+=0:t[4].value+=parseInt(e.powerstats.power),"null"===e.powerstats.combat?t[5].value+=0:t[5].value+=parseInt(e.powerstats.combat)}));var a={strongestStat:q(t)};return t.push(a),t}(c)),L(function(e){var t={weight:0,height:0};return e.forEach((function(e){t.weight+=parseInt(e.appearance.weight[1].replace(" kg","")),t.height+=parseInt(e.appearance.height[1].replace(" cm",""))})),t}(c)),3===o?v(!0):o<3&&v(!1),b>=3?w(!0):b<3&&w(!1)}),[o,b,c]);var T={heros:c,addHero:function(e){var t;"good"===e.biography.alignment&&x||("bad"===e.biography.alignment&&N||(t=e,c.includes(t)||n((function(t){"good"===e.biography.alignment&&l((function(e){return e+1})),"bad"===e.biography.alignment&&h((function(e){return e+1}));var a=Object(F.a)(t);return a.push(e),a}))))},removeHero:function(e){"good"===e.biography.alignment&&l((function(e){return e-1})),"bad"===e.biography.alignment&&h((function(e){return e-1})),n((function(t){return t.filter((function(t){return t.id!==e.id}))}))},teamSummary:k,stats:E};return Object(m.jsx)(B.Provider,{value:T,children:e.children})},Y=B,z=(a(341),function(){var e=Object(r.useContext)(Y),t=e.teamSummary,a=e.stats,c=e.heros,n=Object(F.a)(t);return n.pop(),Object(m.jsx)("div",{style:{backgroundColor:"#1a2950"},className:"container rounded team-stats",children:Object(m.jsxs)("div",{className:"row pt-5 pb-5",children:[Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("h4",{className:"text-white text-center mb-3",children:"Team"}),Object(m.jsxs)("ul",{style:{color:"#f8f9fa"},className:"list-unstyled",children:[Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Intelligence:"," ",void 0!==t[0]?t[0].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Combat: ",void 0!==t[5]?t[5].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Strength:"," ",void 0!==t[1]?t[1].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Power: ",void 0!==t[4]?t[4].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Speed: ",void 0!==t[2]?t[2].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Durability:"," ",void 0!==t[3]?t[3].value:0]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Strongest Powerstat:"," ",void 0!==t[6]?t[6].strongestStat:""]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Average Weight:"," ",0===c.length?0:(a.weight/c.length).toFixed(2)," ","kg"]}),Object(m.jsxs)("li",{className:"pt-1 p-l",children:["Average Height:"," ",0===c.length?0:(a.height/c.length).toFixed(2)," ","cm"]})]})]}),Object(m.jsx)("div",{className:"col radar",children:Object(m.jsx)(L.a,{width:"100%",height:"100%",children:Object(m.jsxs)(T.a,{outerRadius:88,cx:140,cy:115,data:n,children:[Object(m.jsx)(A.a,{stroke:"#f8f9fa"}),Object(m.jsx)(P.a,{dataKey:"powerstat",stroke:"#f8f9fa"}),Object(m.jsx)(D.a,{dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]})})}),J=a(85),K=(a(398),function(e){var t,a,c,n=function(){return e.setShow(!1)},s=Object(r.useContext)(Y),i=s.addHero,o=s.removeHero,l=e.hero.appearance,j=l.height,u=l.weight,d=e.hero.biography["full-name"],b=e.hero.biography.aliases,h=e.hero.appearance["eye-color"],O=e.hero.appearance["hair-color"],p=e.hero.work.base,x=e.hero.biography.alignment,v=x.charAt(0).toUpperCase()+x.slice(1),g=j[1],f=u[1];e.inHome?(t="btn btn-danger",a="Delete Hero",c=o):(t="btn btn-success",a="Add Hero",c=i);return Object(m.jsxs)(J.a,{show:e.show,onHide:n,size:"xl",dialogClassName:"h-80",children:[Object(m.jsx)(J.a.Header,{closeButton:!0,children:Object(m.jsx)(J.a.Title,{children:e.hero.name})}),Object(m.jsx)(J.a.Body,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row flex-container",children:[Object(m.jsx)("div",{className:"hero-image",children:Object(m.jsx)("img",{className:"img-fluid rounded",alt:"hero asdas",src:e.hero.image.url})}),Object(m.jsx)("div",{className:"hero-info",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"Weight: ".concat(f)}),Object(m.jsx)("li",{children:"Height: ".concat(g)}),Object(m.jsx)("li",{children:"Name: ".concat(d)}),Object(m.jsx)("li",{children:"Aliases: ".concat(b)}),Object(m.jsx)("li",{children:"Eye color: ".concat(h)}),Object(m.jsx)("li",{children:"Eye color: ".concat(O)}),Object(m.jsx)("li",{children:"Workplace: ".concat(p)}),Object(m.jsx)("li",{children:"Hero alignment: ".concat(v)})]})})]})})}),Object(m.jsxs)(J.a.Footer,{children:[Object(m.jsx)("button",{className:"btn btn-outline-danger",onClick:n,children:"Close"}),Object(m.jsx)("button",{onClick:function(){c(e.hero),n()},className:t,children:a})]})]})}),R=(a(399),function(e){var t,a,n,s=e.hero,i=s.image,o=s.name,l=Object(r.useState)(!1),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(r.useContext)(Y),O=h.addHero,p=h.removeHero;e.inHome?(t="btn btn-danger",a="Delete Hero",n=p):(t="btn btn-success",a="Add Hero",n=O);return Object(m.jsxs)(c.a.Fragment,{children:[d&&Object(m.jsx)(K,{inHome:e.inHome,hero:e.hero,show:d,setShow:b}),Object(m.jsxs)("div",{className:"card bg-dark text-white mt-2 h-500",children:[Object(m.jsx)("img",{loading:"lazy",decoding:"async",src:i.url,className:"card-img h-500",alt:"".concat(o," card")}),Object(m.jsxs)("div",{className:"card-img-overlay d-flex flex-column justify-content-between p-0",children:[Object(m.jsx)("div",{className:"p-3 mt-2 opacity h-4r",children:Object(m.jsx)("h3",{className:"card-title text-center",children:o})}),Object(m.jsxs)("div",{className:"d-flex justify-content-around mb-5",children:[Object(m.jsx)("button",{onClick:function(){n(e.hero)},type:"button",className:t,children:a}),Object(m.jsx)("button",{onClick:function(){b(!0)},type:"button",className:"btn btn-primary",children:"Details"})]})]})]})]})}),U=function(e){var t=e.herosList,a=e.inHome;return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:t.map((function(e){return Object(m.jsx)("div",{className:"col-lg-4 col-md-6",children:Object(m.jsx)(R,{hero:e,inHome:a})},e.id)}))})})},V=function(){var e=Object(r.useContext)(Y).heros;return Object(m.jsx)("section",{children:Object(m.jsx)("div",{className:"container bg-light rounded p-3 mt-5",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-lg-5 p-5",children:[Object(m.jsx)("h1",{children:"Your superhero team"}),Object(m.jsx)("div",{children:Object(m.jsx)(E,{})})]}),Object(m.jsx)("div",{className:"col-lg-7 team-stats",children:Object(m.jsx)(z,{})}),Object(m.jsx)("div",{className:"mt-3",children:e.length>0?Object(m.jsx)(U,{inHome:!0,herosList:e}):Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("h4",{className:"mt-5 text-center",children:"Your Team is empty"}),Object(m.jsx)("p",{className:"text-center",children:"Add heroes to your Team to form the best team of superheroes ever!"})]})})]})})})},G=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),s=Object(u.a)(n,2),o=s[0],d=s[1],b=Object(i.h)(),h=new URLSearchParams(b.search).get("heroName"),O="http://localhost:5000/getHeros/?heroName=".concat(h);return Object(r.useEffect)((function(){d(!0),function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(O);case 2:t=e.sent,d(!1),"success"===t.data.response?c(t.data.results):console.log("error");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O]),Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"container mt-5 pb-5",children:[o&&Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)("div",{className:"spinner-border text-primary",role:"status"})}),Boolean(0===a.length)&&!o&&Object(m.jsx)("p",{className:"text-center pt-5 h1 text-light",children:"No results found"}),Boolean(a.length>0)&&!o&&Object(m.jsx)(U,{herosList:a,inHome:!1})]})})},M=(a(400),a(54)),Q=a(219),X=function(){var e=Object(r.useContext)(y),t=Object(i.h)().pathname;return Object(m.jsx)("nav",{className:"navbar navbar-dark",style:{backgroundColor:"#081734"},children:Object(m.jsxs)("div",{className:"container-fluid",children:["/search"===t&&Object(m.jsx)(M.b,{to:"/home",style:{textDecoration:"none"},children:Object(m.jsx)("button",{className:"btn btn-outline-primary",children:Object(m.jsx)(Q.a,{})})}),Object(m.jsx)(M.b,{to:"/home",style:{textDecoration:"none"},children:Object(m.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Superheros App"})}),Object(m.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){e.logout()},children:"Logout"})]})})},Z=function(e){return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(X,{}),Object(m.jsx)("main",{children:e.children})]})};var $=function(){var e=Object(r.useContext)(y);return Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{exact:!0,path:"/",children:Object(m.jsx)(C,{})}),e.isLoggedIn&&Object(m.jsx)(c.a.Fragment,{children:Object(m.jsxs)(W,{children:[Object(m.jsx)(i.b,{path:"/home",children:Object(m.jsx)(Z,{children:Object(m.jsx)(V,{})})}),Object(m.jsx)(i.b,{path:"/search",children:Object(m.jsx)(Z,{children:Object(m.jsx)(G,{})})})]})}),Object(m.jsx)(i.b,{path:"*",children:Object(m.jsx)(i.a,{to:"/"})})]})};a(401);s.a.render(Object(m.jsx)(w,{children:Object(m.jsx)(M.a,{children:Object(m.jsx)($,{})})}),document.getElementById("root"))}},[[402,1,2]]]);
//# sourceMappingURL=main.2c8c5037.chunk.js.map