{"ast":null,"code":"import _toConsumableArray from\"/home/facu/Desktop/alkemy/superheros/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/facu/Desktop/alkemy/superheros/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{isHeroInTeam,getTeamSummary,getWeightAndHeight}from'../helpers/general-helpers';import{jsx as _jsx}from\"react/jsx-runtime\";var TeamMembersContext=/*#__PURE__*/React.createContext({heros:[],addHero:function addHero(hero){},removeHero:function removeHero(id){},teamSummary:[],stats:{}});export var TeamMembersContextProvider=function TeamMembersContextProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heros=_useState2[0],setHeros=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),goodHerosCounter=_useState4[0],setGoodHerosCounter=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),badHerosCounter=_useState6[0],setBadHerosCounter=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),teamFullOfGoodHeros=_useState8[0],setTeamFullOfGoodHeros=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),teamFullOfBadHeros=_useState10[0],setTeamFullOfBadHeros=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),teamSummary=_useState12[0],setTeamSummary=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),stats=_useState14[0],setStats=_useState14[1];useEffect(function(){setTeamSummary(getTeamSummary(heros));setStats(getWeightAndHeight(heros));if(goodHerosCounter===3){setTeamFullOfGoodHeros(true);}else{if(goodHerosCounter<3){setTeamFullOfGoodHeros(false);}}if(badHerosCounter>=3){setTeamFullOfBadHeros(true);}else{if(badHerosCounter<3){setTeamFullOfBadHeros(false);}}},[goodHerosCounter,badHerosCounter,heros]);// console.log(teamSummary);\nvar addHeroToTeamHandler=function addHeroToTeamHandler(hero){if(hero.biography.alignment==='good'&&teamFullOfGoodHeros){return;}if(hero.biography.alignment==='bad'&&teamFullOfBadHeros){return;}if(isHeroInTeam(hero,heros))return;setHeros(function(prevHeros){if(hero.biography.alignment==='good'){setGoodHerosCounter(function(prevCount){return prevCount+1;});}if(hero.biography.alignment==='bad'){setBadHerosCounter(function(prevCount){return prevCount+1;});}var updatedHeros=_toConsumableArray(prevHeros);updatedHeros.push(hero);return updatedHeros;});};var removeHeroFromTeamHandler=function removeHeroFromTeamHandler(enteredHero){if(enteredHero.biography.alignment==='good'){setGoodHerosCounter(function(prevCount){return prevCount-1;});}if(enteredHero.biography.alignment==='bad'){setBadHerosCounter(function(prevCount){return prevCount-1;});}setHeros(function(prevHeros){var updatedHeros=prevHeros.filter(function(hero){return hero.id!==enteredHero.id;});return updatedHeros;});};var teamContextValue={heros:heros,addHero:addHeroToTeamHandler,removeHero:removeHeroFromTeamHandler,teamSummary:teamSummary,stats:stats};return/*#__PURE__*/_jsx(TeamMembersContext.Provider,{value:teamContextValue,children:props.children});};export default TeamMembersContext;","map":{"version":3,"sources":["/home/facu/Desktop/alkemy/superheros/frontend/src/store/teamMembers-context.js"],"names":["React","useState","useEffect","isHeroInTeam","getTeamSummary","getWeightAndHeight","TeamMembersContext","createContext","heros","addHero","hero","removeHero","id","teamSummary","stats","TeamMembersContextProvider","props","setHeros","goodHerosCounter","setGoodHerosCounter","badHerosCounter","setBadHerosCounter","teamFullOfGoodHeros","setTeamFullOfGoodHeros","teamFullOfBadHeros","setTeamFullOfBadHeros","setTeamSummary","setStats","addHeroToTeamHandler","biography","alignment","prevHeros","prevCount","updatedHeros","push","removeHeroFromTeamHandler","enteredHero","filter","teamContextValue","children"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  isHeroInTeam,\n  getTeamSummary,\n  getWeightAndHeight,\n} from '../helpers/general-helpers';\n\nconst TeamMembersContext = React.createContext({\n  heros: [],\n  addHero: (hero) => {},\n  removeHero: (id) => {},\n  teamSummary: [],\n  stats: {},\n});\n\nexport const TeamMembersContextProvider = (props) => {\n  const [heros, setHeros] = useState([]);\n  const [goodHerosCounter, setGoodHerosCounter] = useState(0);\n  const [badHerosCounter, setBadHerosCounter] = useState(0);\n  const [teamFullOfGoodHeros, setTeamFullOfGoodHeros] = useState(false);\n  const [teamFullOfBadHeros, setTeamFullOfBadHeros] = useState(false);\n  const [teamSummary, setTeamSummary] = useState([]);\n  const [stats, setStats] = useState({});\n\n  useEffect(() => {\n    setTeamSummary(getTeamSummary(heros));\n    setStats(getWeightAndHeight(heros));\n    if (goodHerosCounter === 3) {\n      setTeamFullOfGoodHeros(true);\n    } else {\n      if (goodHerosCounter < 3) {\n        setTeamFullOfGoodHeros(false);\n      }\n    }\n    if (badHerosCounter >= 3) {\n      setTeamFullOfBadHeros(true);\n    } else {\n      if (badHerosCounter < 3) {\n        setTeamFullOfBadHeros(false);\n      }\n    }\n  }, [goodHerosCounter, badHerosCounter, heros]);\n\n  // console.log(teamSummary);\n\n  const addHeroToTeamHandler = (hero) => {\n    if (hero.biography.alignment === 'good' && teamFullOfGoodHeros) {\n      return;\n    }\n\n    if (hero.biography.alignment === 'bad' && teamFullOfBadHeros) {\n      return;\n    }\n    if (isHeroInTeam(hero, heros)) return;\n\n    setHeros((prevHeros) => {\n      if (hero.biography.alignment === 'good') {\n        setGoodHerosCounter((prevCount) => prevCount + 1);\n      }\n      if (hero.biography.alignment === 'bad') {\n        setBadHerosCounter((prevCount) => prevCount + 1);\n      }\n\n      const updatedHeros = [...prevHeros];\n      updatedHeros.push(hero);\n      return updatedHeros;\n    });\n  };\n\n  const removeHeroFromTeamHandler = (enteredHero) => {\n    if (enteredHero.biography.alignment === 'good') {\n      setGoodHerosCounter((prevCount) => prevCount - 1);\n    }\n    if (enteredHero.biography.alignment === 'bad') {\n      setBadHerosCounter((prevCount) => prevCount - 1);\n    }\n    setHeros((prevHeros) => {\n      const updatedHeros = prevHeros.filter(\n        (hero) => hero.id !== enteredHero.id\n      );\n\n      return updatedHeros;\n    });\n  };\n\n  const teamContextValue = {\n    heros: heros,\n    addHero: addHeroToTeamHandler,\n    removeHero: removeHeroFromTeamHandler,\n    teamSummary: teamSummary,\n    stats: stats,\n  };\n\n  return (\n    <TeamMembersContext.Provider value={teamContextValue}>\n      {props.children}\n    </TeamMembersContext.Provider>\n  );\n};\n\nexport default TeamMembersContext;\n"]},"metadata":{},"sourceType":"module"}